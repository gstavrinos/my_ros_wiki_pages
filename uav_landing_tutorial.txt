## For instruction on writing tutorials
## http://www.ros.org/wiki/WritingTutorials
####################################
##FILL ME IN
####################################
## for a custom note with links:
## note = 
## for the canned note of "This tutorial assumes that you have completed the previous tutorials:" just add the links 
## note.0= [[ROS/Tutorials/CreatingPackage|creating a ROS package]]
## descriptive title for the tutorial
## title = Landing an autonomous UAV on a moving platform using only a front facing camera
## multi-line description to be displayed in search 
## description = This tutorial walks you through a series of packages that can help you land a  Parrot Bebop on a moving platform using only its front facing camera.
## what level user is this tutorial for 
## level= BeginnerCategory
## keywords = UAV, bebop, landing, moving platform
####################################

<<IncludeCSTemplate(TutorialCSHeaderTemplate)>>

== Intro ==
The packages needed for this tutorial are the following:

1. [[https://github.com/gstavrinos/bebop_simulator|bebop_gazebo]]: The simulation package of the Parrot Bebop.

2. [[https://github.com/gstavrinos/ar_helipad|ar_helipad]]: The package responsible for detecting the moving platform. It is based on the [[http://wiki.ros.org/ar_track_alvar|ar_track_alvar package]].

3. [[https://github.com/gstavrinos/tf_velocity_estimator|tf_velocity_estimator]]: The package  that estimates the velocity of the tf of interest.

4. [[https://github.com/gstavrinos/aerial_local_planner|aerial_local_planner]]: The local planning package.

5. [[https://github.com/gstavrinos/aerial_global_planner|aerial_global_planner]]: The global planning package.

Before moving on how to use the packages, we should state that the planning packages assume that there are no obstacles between the robot and the moving platform's trajectory.

== For the lazy ==
If installing the above packages seems like too much work for you and you just need to see the system work, please see these two videos: [[https://drive.google.com/open?id=1DQkd9UZTZ2IQzYh8FciXG63G_HPMR6f1|video1]], [[https://drive.google.com/open?id=10WrBPOqYmKS3cZGxaIDrtHtmyxzszsyx|video2]]

== How to use the packages ==
You need to run one executable for each of the packages mentioned above.
The order of execution is the following:

{{{
roslaunch bebop_gazebo bebop_moving_helipad.launch
roslaunch ar_helipad bebop_helipad_individual.launch
rosrun tf_velocity_estimator velocity_estimator.py
rosrun aerial_local_planner local_planner.py
rosrun aerial_global_planner global_planner.py
}}}
{{{#!wiki caution
'''WARNING!'''
The first command runs the Gazebo simulation for the Parrot Bebop. Gazebo often fails to start the controllers successfully. If you get the ''Failed to start controllers: controller/position, controller/velocity, controller/attitude'' message, please kill the process and try again, before running the rest of the commands.
}}}

When you successfully run all of the commands, you will see a Parrot Bebop trying to land on a moving platform. If this is not enough for you and you want to experiment with the packages, please continue reading.

== Experimenting with the parameters ==
## AUTOGENERATED DO NOT DELETE 
## TutorialCategory
## ROSTutorialCategory

